# Add a short-code to Notify

Date: 2021-09-20

## Status

**ACCEPTED.**

## Context

Short Codes are the foundation of mobile marketing. They allow consumers to interact with media outlets, brands, retailers, governments and all kinds of other organizations via text messaging. Instead of sending text messages to a 10-digit phone number, cell phone users send it to a Short Code – a five- or six-digit number that often spells a word or brand name. A Short Code becomes a “Common Short Code” (CSC) when the same code is activated across multiple mobile phone networks, which greatly extends its reach to many more mobile phone customers (this is from txt.ca). 

As a way to give Notify a brand, we looked into getting a short code for Notify. This would allow us to put the short code on Canada.ca, which would allow us to create trust in the service.

Short codes allow customers to increase message throughput. Currently, short codes can send 100 messages/ second in comparison to long codes that can send 1 message/ 1 second.

Both USA and Canada do not look kindly upon using a singular short code for multiple services. The correct legal way for Notify to recieve a short code would be to buy a short code per service we are running.

USA currently offers a 10 DLC that Canada hasn't implemented as an alternative to short codes. The US 10DLC codes cannot be used to message Canadian numbers.

Notify is set up in two places. We have a random pool of numbers in CA-Central. We also have a list of dedicated long codes setup in US-West-2. This is because of an AWS restriction that doesn't allow both dedicated long codes and a random pool of long codes to be in the same region.

## Additional considerations

1. Short codes are supposed to be tied to a single service. As can be seen from our application to AWS last year (https://docs.google.com/document/d/1IbBHE_hDtXmV03FJFeB5wRWUekzmEP4Ky2x0a_lDBtg/edit), we couldn't apply the short codes to every single service.
2. Notify is the base service that is used by a multitude of governmental services. The unsubscribe feature is managed by AWS (If a customer responds to the short code with 'STOP', AWS puts the user on a do not send list). AWS allows us to remove a single user from the unsubscribe list once every 30 days.
Eg: Immigration, Refugee and Citizenship Canada (IRCC) and Canadian Border Services Agency (CBSA) use Notify for different usecases. The same short-code would be used by both services. This leads to problems with subscriptions as an end user might chose to unsubscribe from notifications sent by IRCC but inadvertently blocks notifications sent by CBSA.
3. Short codes are very expensive. As of Sept 2021, a short code is 3000USD$ to setup and a 1000USD$ in recurring monthly costs. It would be cost prohibitive to get short codes per service that use Notify.
4. Another option instead of short codes is a Toll free number. Toll free numbers have a throughput of 3SMS/ seconds and are more expensive than long codes that are 2$ USD/ month. Toll free numbers for SMS isn't setup in AWS and we would have to ask for it in a requirement document (Brent Breyer would help here).
5. We could potentially apply for a short code under the Government of Canada organization according to AWS. The templates we create for the short code should have the official Government of Canada header and footer. This might lend credibility to our application and give Notify leeway in terms of one-code for one service. Our ask would be to not see notify as a promotional service but as a Government of Canada essential service that operates under different rules.

## Potential Solutions

### Unsubscribe Option

The main problem that arises with short codes is that an individual might unsubscibe themselves from all notifications from the Canadian Government, vs the individual service they were interested in unsubscribing from.
This problem currently also exists with the long codes we use in Notify. If a user sends `STOP` to any of the long codes we have in the pool of non-dedicated long code for Notify in `ca-central-1`, the user unsubscribes themselves from all notifications from Notify that are set in `ca-central-1`.
We have dedicated long codes for Notify in `us-west-2`. `STOP` in this case will unsubscribe the individual from `all` dedicated long codes set in that region. This is because AWS has `one` opt-out list per AWS region.

We could send a shortened link to the user to try and get them to use the unsubscribe through the service vs 'STOP'. The unsubscribe list would be managed through the individual Notify services.

- Need to get a URL shortner that is Gov of Canada owned and used by multiple different departments. The URL shortner would be used to send the unsubscribe link in the SMS so every service could manage its own subscriptions.
- Need to build out functionality for managing subscriptions within the Notify Admin. There is currently work being done by another platform initiative regarding subscriptions, there might be an overlap of service functionality that could be used for notify subscription management.

### Multiple Short Codes

Get multiple short codes - one per service. Currently, there are no Shared Short Codes in Canada. [USA allows customers to use 10DLC](https://messagemedia.com/us/blog/shared-short-code-replaced-with-10dlc/) but there isn't an equivalent in Canada atm. Unless we are willing to use the same short code for every client, we should instead get a short code per client.

### Cost of Short Codes

Short codes are expensive. Short codes also require paperword and 10-16 weeks to get processed. We do not have a self serve option for Notify clients to pick whether they want a Short Code or not. We would have to create a process that would inform individual services about the cost of obtaining a short code, as well as a process for application and applying the Short Code to our service.

### Increase Throughput

Currently we have multiple phone numbers to get over the 1 sms/ 1 second rule that is enforced by AWS. We do not have another option for increasing throughput unless we apply for the Short Code. We would need to further dwell on a solution to this particular issue.

## Decision

As this stage, without doing a more thorough review of the 'Unsubscribe Options', we are going to put the Short Code discussion on hold.
