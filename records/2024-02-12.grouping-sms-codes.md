# TITLE

Date: 2024-02-13

## Status

**DRAFT**.

## Related ADRs

- [Add a short-code to Notify](https://github.com/cds-snc/notification-adr/blob/main/records/2021-09-20.scalibility.notify-short-code.md)

## Context

As the GCNotify team just acquired a short code and because it it currently
restricted to two-factor authentication only, the software needs a mechanism
to associate it only with templates of 2FA nature, i.e. the short code meant
to send 2FA should be used to send 2FA SMS.

At the current time, because the short code is sitting along long codes and all
of these are in a default pool, that means that all codes are randomly used to
send SMS, including the short codes. Hence the latter can be used to send
SMS messages that are non-related with 2FA.

To overcome this issue:

- we need to isolate the short code and long codes within their own group that will be identified with proper usage,
- we need a way to identify the templates with two-factor authentication.

The ability to create a group of codes has extra benefits that we can leverage
on top of solving the current issue:

- the ability to have a formal random pool of long codes,
- the ability to assign multiple dedicated long codes to one service,
- the ability to repatriate the existing dedicated long codes from the us-west-1 region into the ca-central-1 and align better with our own policies of sending from Canada exclusively.

## Options

_TODO: Describe the different options we have._

### Option 1

_TODO: Describe an option._

## Additional considerations

_TODO: Describe extras in here._

## Decision

_TODO: Describe the way forward._

## Consequences

_TODO: Describe foreseen and felt consequences of the decision (possible after 1-3 months)._
